<div style="text-align: center;">Сервис организации очередей</div>

Сервис будет использоваться для организации очередей общего назначения. В рамках сервиса предполагается, что существует некоторая услуга, предоставляемая одним и более людьми-исполнителями, и периодически появляются клиенты, которым они направляются.
В качестве интерфейса к сервису будет использован telegram, через который будет происходить все взаимодействие, а также аутентификация клиентов и исполнителей. Сервис будет представлять собой чат бот.

##### Примеры использования сервиса:
Организация очереди в аптеке.   
Организация очередей на сдачу лабораторных работ в университете

##### Функциональные требования
###### Создание и управление очередью:  
1. Каждый пользователь telegram может создать очередь. Но не более 10 одновременно работающих очередей  
2. Для создания очереди необходимо ввести соответствующую команду боту  
3. При создании очереди нужно указать название очереди (должно быть уникальным среди работающих (не удаленных) очередей) и передать текущую локацию  
Очередь будет привязана к локации и действовать в радиусе 50м  
4. Создатель очереди является ее единственным администратором и может выполнять следующие операции:  
   - Добавлять/исключать исполнителей очереди - любых пользователей telegram  
Максимальное допустимое количество исполнителей - 100  
При попытке добавить больше должно отображаться соответствующее сообщение  
   - Просмотреть список исполнителей очереди со статусом (“обслуживает клиента” или нет)  
   - Изменять имя исполнителя очереди  
   - Приостанавливать/возобновлять добавление клиентов в очередь. По умолчанию - включено  
При попытке встать в приостановленную очередь клиенту должно отображаться соответствующее сообщение  

Чтобы клиенты могли занять место в очереди, должно удовлетворяться условия: добавление было включено администратором, текущее местоположение рядом с очередью       
   - Закрыть очередь, после чего она перестанет где-либо отображаться (как будто не существовала)
5. Каждый пользователь telegram может запросить список очередей, действующих в радиусе 50 м).  
   - Список должен быть отсортирован по количеству уникальных клиентов очереди, которые были обслужены когда-либо
   - Должно отображаться не более 30 очередей
6. Каждый пользователь telegram может запросить состояние очереди, отображаемое одним сообщением:
   - Позволяется ли прием клиентов администратором очереди
   - Открыт ли прием клиентов на данным момент 
   - Период работы очереди
   - Режим работы очереди
  Запросить эту информацию может каждый пользователь вне зависимости от локации
7. Требования к исполнителям очереди
   - Создатель очереди должен автоматически становиться первым исполнителем очереди
   - У исполнителей очереди должна быть возможность зайти в режим “обслуживаю клиентов”, если они находятся в радиусе 50 м от очереди
   В этом режиме в интерфейсе должно отображаться две кнопки:
   Выход - выход из данного режима
   Принять следующего - принять следующего клиента
   При нажатии “Выход” исполнитель должен выйти из режима обслуживания клиентов
   Если исполнитель обслуживал очередного клиента на данный момент, его обслуживание должно считаться завершенным 
   При нажатии “Принять следующего” Исполнитель считается свободным и, при появлении, к нему будет направлен следующей клиент
   Если исполнитель обслуживал очередного клиента на данный момент, его обслуживание должно считаться завершенным
   При входе в режим обслуживания клиентов исполнитель должен сразу считаться свободным
   У исполнителя должна быть возможность посмотреть список последних обслуженных клиентов
   Каждый пункт списка должен содержать имя/фамилию пользователя telegram, а также дату и время начала и завершения обслуживания
   По умолчанию должно отобразиться 20 последних клиентов
   При закрытии очереди исполнителям в состоянии “обслуживаю клиентов” должно прийти соответствующее оповещение, и они автоматически должны выйти из этого состояния
8. Требования к клиентам очереди
   - Клиентом может стать любой пользователь telegram, находящийся в радиусе 50 м от точки создания очереди
   - Максимальное количество ожидающих клиентов очереди должно быть 10_000
   - В случае превышения, при попытке занять место в очереди клиенту должно отображаться соответствующее сообщение
   - При занятии очереди клиенту должна отобразиться его позиция в очереди
   - При изменении позиции в очереди, клиенту должно приходить оповещение
   - Клиент должен иметь возможность отключить/включить данное оповещение
   - По умолчанию оповещение должно быть включено
   - Когда наступит очередь клиента, ему должно прийти соответствующее оповещение, содержащее имя исполнителя
   - У клиента должна быть возможность досрочно выйти из очереди
   - При закрытии очереди ожидающим клиентам должно прийти соответствующее оповещение
9. Требования к запуску и администрированию сервиса
   - Сервис должен быть представлен запускаемым jar файлом, перед запуском которого должны быть развернуты все необходимые внешние компоненты (базы данных и пр.)
   - Должна быть возможность задания файла со всеми конфигурациями сервиса
  По умолчанию должен использоваться файл application.properties в локальной директории
  Путь к альтернативному конфигурационному файлу должен задаваться в качестве единственного параметра запуска jar’ника
   - Логи должны писаться в отдельную директорию, указанную в свойствах
  Директория по умолчанию - logs в директории jar’ника
  Уровень логирования должен также задаваться в свойствах
  По умолчанию уровень должен быть INFO
   - Должна быть настроена ротация логов - по размеру лог файла
  Ротация должна происходить при превышении размера в 1 Гб
  Сохраняться должно не более 7-ми файлов
   - Выключение сервиса должно происходить посредством отправки процессу команды -SIGINT

10. Нефункциональные требования
   - В качестве пользовательского интерфейса должен предоставляться интерфейс чат бота telegram
   - Для хранения данных должна использоваться база данных PostgreSQL
   - Удаление данных из базы данных не должно происходить. Допускается лишь пометка записей специальным флагом, при установке которого записи будут игнорировать 
